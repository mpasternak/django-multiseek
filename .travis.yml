addons:
  apt:
    packages:
      - xvfb

NPM SUPPORT

language:
  python

python:
  - "2.7"
  - "3.5"
  - "3.6"

env:
  - DJANGO=17
  - DJANGO=18
  - DJANGO=19
  - DJANGO=110
  - DJANGO=111

before_install:
  - export DISPLAY=:99.0
  - Xvfb $DISPLAY &
  - docker-compose build

install:
  - npm install -g bower
  - export TOXENV=py${TRAVIS_PYTHON_VERSION//./}-django${DJANGO}

script:
  - docker-compose run --rm test -e ${TOXENV}
